{"ast":null,"code":"import { getToken, getStravaToken } from \"../utils/Token\";\nexport default async function APIPost(base_url, endpoint, body, tokenNeeded) {\n  header = {\n    \"Content-Type\": \"application/json\"\n  };\n\n  if (base_url == \"local\" && tokenNeeded) {\n    header[\"Authorization\"] = getToken();\n  } else if (base_url == \"strava\" && tokenNeeded) {\n    header[\"Authorization\"] = getStravaToken();\n  }\n\n  return fetch(`${base_url == \"local\" ? \"http://localhost:8000/api/v1/\" : \"https://www.strava.com/api/v3/\"}${endpoint}`, {\n    method: \"POST\",\n    headers: header,\n    body: JSON.stringify(body)\n  }).then(data => data.json());\n}\n_c = APIPost;\n\nvar _c;\n\n$RefreshReg$(_c, \"APIPost\");","map":{"version":3,"sources":["D:/SchoolWork/Computer Science/Year 2/NEA/NEA/frontend/src/External/ApiHelper.js"],"names":["getToken","getStravaToken","APIPost","base_url","endpoint","body","tokenNeeded","header","fetch","method","headers","JSON","stringify","then","data","json"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,cAAnB,QAAyC,gBAAzC;AAEA,eAAe,eAAeC,OAAf,CAAuBC,QAAvB,EAAiCC,QAAjC,EAA2CC,IAA3C,EAAiDC,WAAjD,EAA8D;AAC3EC,EAAAA,MAAM,GAAG;AACP,oBAAgB;AADT,GAAT;;AAGA,MAAIJ,QAAQ,IAAI,OAAZ,IAAuBG,WAA3B,EAAwC;AACtCC,IAAAA,MAAM,CAAC,eAAD,CAAN,GAA0BP,QAAQ,EAAlC;AACD,GAFD,MAEO,IAAIG,QAAQ,IAAI,QAAZ,IAAwBG,WAA5B,EAAyC;AAC9CC,IAAAA,MAAM,CAAC,eAAD,CAAN,GAA0BN,cAAc,EAAxC;AACD;;AACD,SAAOO,KAAK,CACT,GACCL,QAAQ,IAAI,OAAZ,GACI,+BADJ,GAEI,gCACL,GAAEC,QAAS,EALF,EAMV;AACEK,IAAAA,MAAM,EAAE,MADV;AAEEC,IAAAA,OAAO,EAAEH,MAFX;AAGEF,IAAAA,IAAI,EAAEM,IAAI,CAACC,SAAL,CAAeP,IAAf;AAHR,GANU,CAAL,CAWLQ,IAXK,CAWCC,IAAD,IAAUA,IAAI,CAACC,IAAL,EAXV,CAAP;AAYD;KArB6Bb,O","sourcesContent":["import { getToken, getStravaToken } from \"../utils/Token\";\r\n\r\nexport default async function APIPost(base_url, endpoint, body, tokenNeeded) {\r\n  header = {\r\n    \"Content-Type\": \"application/json\",\r\n  };\r\n  if (base_url == \"local\" && tokenNeeded) {\r\n    header[\"Authorization\"] = getToken();\r\n  } else if (base_url == \"strava\" && tokenNeeded) {\r\n    header[\"Authorization\"] = getStravaToken();\r\n  }\r\n  return fetch(\r\n    `${\r\n      base_url == \"local\"\r\n        ? \"http://localhost:8000/api/v1/\"\r\n        : \"https://www.strava.com/api/v3/\"\r\n    }${endpoint}`,\r\n    {\r\n      method: \"POST\",\r\n      headers: header,\r\n      body: JSON.stringify(body),\r\n    }\r\n  ).then((data) => data.json());\r\n}\r\n"]},"metadata":{},"sourceType":"module"}