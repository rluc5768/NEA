{"ast":null,"code":"import { getToken, getStravaToken } from \"../utils/Token\"; //These functions are used to make the other code more readable and shorter.\n\nexport async function APIPost(base_url, endpoint, body, tokenNeeded) {\n  let header = {\n    \"Content-Type\": \"application/json\"\n  };\n\n  if (base_url.includes(\"localhost\") && tokenNeeded) {\n    header[\"Authorization\"] = `Bearer ${getToken()}`;\n  } else if (base_url.includes(\"www.strava.com\") && tokenNeeded) {\n    header[\"Authorization\"] = `Bearer ${getStravaToken()}`;\n  }\n\n  return fetch(`${base_url}${endpoint}`, {\n    method: \"POST\",\n    headers: header,\n    body: JSON.stringify(body)\n  }).then(data => data.json());\n}\n_c = APIPost;\nexport async function APIGet(base_url, endpoint, tokenNeeded) {\n  let header = {};\n\n  if (base_url == \"local\" && tokenNeeded) {\n    header[\"Authorization\"] = `Bearer ${getToken()}`;\n  } else if (base_url == \"strava\" && tokenNeeded) {\n    header[\"Authorization\"] = `Bearer ${getStravaToken()}`;\n  }\n\n  console.log(endpoint);\n  return fetch(`${base_url}${endpoint}`, {\n    method: \"GET\",\n    headers: header\n  }).then(data => data.json());\n}\n_c2 = APIGet;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"APIPost\");\n$RefreshReg$(_c2, \"APIGet\");","map":{"version":3,"sources":["D:/SchoolWork/Computer Science/Year 2/NEA/NEA/frontend/src/External/ApiHelper.js"],"names":["getToken","getStravaToken","APIPost","base_url","endpoint","body","tokenNeeded","header","includes","fetch","method","headers","JSON","stringify","then","data","json","APIGet","console","log"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,cAAnB,QAAyC,gBAAzC,C,CACA;;AAEA,OAAO,eAAeC,OAAf,CAAuBC,QAAvB,EAAiCC,QAAjC,EAA2CC,IAA3C,EAAiDC,WAAjD,EAA8D;AACnE,MAAIC,MAAM,GAAG;AACX,oBAAgB;AADL,GAAb;;AAGA,MAAIJ,QAAQ,CAACK,QAAT,CAAkB,WAAlB,KAAkCF,WAAtC,EAAmD;AACjDC,IAAAA,MAAM,CAAC,eAAD,CAAN,GAA2B,UAASP,QAAQ,EAAG,EAA/C;AACD,GAFD,MAEO,IAAIG,QAAQ,CAACK,QAAT,CAAkB,gBAAlB,KAAuCF,WAA3C,EAAwD;AAC7DC,IAAAA,MAAM,CAAC,eAAD,CAAN,GAA2B,UAASN,cAAc,EAAG,EAArD;AACD;;AACD,SAAOQ,KAAK,CAAE,GAAEN,QAAS,GAAEC,QAAS,EAAxB,EAA2B;AACrCM,IAAAA,MAAM,EAAE,MAD6B;AAErCC,IAAAA,OAAO,EAAEJ,MAF4B;AAGrCF,IAAAA,IAAI,EAAEO,IAAI,CAACC,SAAL,CAAeR,IAAf;AAH+B,GAA3B,CAAL,CAIJS,IAJI,CAIEC,IAAD,IAAUA,IAAI,CAACC,IAAL,EAJX,CAAP;AAKD;KAdqBd,O;AAetB,OAAO,eAAee,MAAf,CAAsBd,QAAtB,EAAgCC,QAAhC,EAA0CE,WAA1C,EAAuD;AAC5D,MAAIC,MAAM,GAAG,EAAb;;AACA,MAAIJ,QAAQ,IAAI,OAAZ,IAAuBG,WAA3B,EAAwC;AACtCC,IAAAA,MAAM,CAAC,eAAD,CAAN,GAA2B,UAASP,QAAQ,EAAG,EAA/C;AACD,GAFD,MAEO,IAAIG,QAAQ,IAAI,QAAZ,IAAwBG,WAA5B,EAAyC;AAC9CC,IAAAA,MAAM,CAAC,eAAD,CAAN,GAA2B,UAASN,cAAc,EAAG,EAArD;AACD;;AAEDiB,EAAAA,OAAO,CAACC,GAAR,CAAYf,QAAZ;AACA,SAAOK,KAAK,CAAE,GAAEN,QAAS,GAAEC,QAAS,EAAxB,EAA2B;AACrCM,IAAAA,MAAM,EAAE,KAD6B;AAErCC,IAAAA,OAAO,EAAEJ;AAF4B,GAA3B,CAAL,CAGJO,IAHI,CAGEC,IAAD,IAAUA,IAAI,CAACC,IAAL,EAHX,CAAP;AAID;MAbqBC,M","sourcesContent":["import { getToken, getStravaToken } from \"../utils/Token\";\r\n//These functions are used to make the other code more readable and shorter.\r\n\r\nexport async function APIPost(base_url, endpoint, body, tokenNeeded) {\r\n  let header = {\r\n    \"Content-Type\": \"application/json\",\r\n  };\r\n  if (base_url.includes(\"localhost\") && tokenNeeded) {\r\n    header[\"Authorization\"] = `Bearer ${getToken()}`;\r\n  } else if (base_url.includes(\"www.strava.com\") && tokenNeeded) {\r\n    header[\"Authorization\"] = `Bearer ${getStravaToken()}`;\r\n  }\r\n  return fetch(`${base_url}${endpoint}`, {\r\n    method: \"POST\",\r\n    headers: header,\r\n    body: JSON.stringify(body),\r\n  }).then((data) => data.json());\r\n}\r\nexport async function APIGet(base_url, endpoint, tokenNeeded) {\r\n  let header = {};\r\n  if (base_url == \"local\" && tokenNeeded) {\r\n    header[\"Authorization\"] = `Bearer ${getToken()}`;\r\n  } else if (base_url == \"strava\" && tokenNeeded) {\r\n    header[\"Authorization\"] = `Bearer ${getStravaToken()}`;\r\n  }\r\n\r\n  console.log(endpoint);\r\n  return fetch(`${base_url}${endpoint}`, {\r\n    method: \"GET\",\r\n    headers: header,\r\n  }).then((data) => data.json());\r\n}\r\n"]},"metadata":{},"sourceType":"module"}