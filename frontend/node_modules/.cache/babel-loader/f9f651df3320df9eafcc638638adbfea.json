{"ast":null,"code":"import { getToken, getStravaToken } from \"../utils/Token\"; //These functions are used to make the other code more readable and shorter.\n\nfunction setHeader(base_url, tokenNeeded) {\n  let header = {\n    \"Content-Type\": \"application/json\"\n  };\n  console.log(base_url.includes(\"localhost\"));\n\n  if (base_url.includes(\"localhost\") && tokenNeeded) {\n    header[\"Authorization\"] = `Bearer ${getToken()}`;\n  } else if (base_url.includes(\"www.strava.com\") && tokenNeeded) {\n    header[\"Authorization\"] = `Bearer ${getStravaToken()}`;\n  }\n\n  return headers;\n}\n\nexport async function APIPost(base_url, endpoint, body, tokenNeeded) {\n  let header = setHeader(base_url, tokenNeeded);\n  return fetch(`${base_url}${endpoint}`, {\n    method: \"POST\",\n    headers: header,\n    body: JSON.stringify(body)\n  }).then(data => data.json());\n}\n_c = APIPost;\nexport async function APIGet(base_url, endpoint, tokenNeeded) {\n  let header = setHeader(base_url, tokenNeeded);\n  console.log(header);\n  console.log(endpoint);\n  return fetch(`${base_url}${endpoint}`, {\n    method: \"GET\",\n    headers: header\n  }).then(data => data.json());\n}\n_c2 = APIGet;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"APIPost\");\n$RefreshReg$(_c2, \"APIGet\");","map":{"version":3,"sources":["D:/SchoolWork/Computer Science/Year 2/NEA/NEA/frontend/src/External/ApiHelper.js"],"names":["getToken","getStravaToken","setHeader","base_url","tokenNeeded","header","console","log","includes","headers","APIPost","endpoint","body","fetch","method","JSON","stringify","then","data","json","APIGet"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,cAAnB,QAAyC,gBAAzC,C,CACA;;AACA,SAASC,SAAT,CAAmBC,QAAnB,EAA6BC,WAA7B,EAA0C;AACxC,MAAIC,MAAM,GAAG;AACX,oBAAgB;AADL,GAAb;AAGAC,EAAAA,OAAO,CAACC,GAAR,CAAYJ,QAAQ,CAACK,QAAT,CAAkB,WAAlB,CAAZ;;AACA,MAAIL,QAAQ,CAACK,QAAT,CAAkB,WAAlB,KAAkCJ,WAAtC,EAAmD;AACjDC,IAAAA,MAAM,CAAC,eAAD,CAAN,GAA2B,UAASL,QAAQ,EAAG,EAA/C;AACD,GAFD,MAEO,IAAIG,QAAQ,CAACK,QAAT,CAAkB,gBAAlB,KAAuCJ,WAA3C,EAAwD;AAC7DC,IAAAA,MAAM,CAAC,eAAD,CAAN,GAA2B,UAASJ,cAAc,EAAG,EAArD;AACD;;AACD,SAAOQ,OAAP;AACD;;AACD,OAAO,eAAeC,OAAf,CAAuBP,QAAvB,EAAiCQ,QAAjC,EAA2CC,IAA3C,EAAiDR,WAAjD,EAA8D;AACnE,MAAIC,MAAM,GAAGH,SAAS,CAACC,QAAD,EAAWC,WAAX,CAAtB;AACA,SAAOS,KAAK,CAAE,GAAEV,QAAS,GAAEQ,QAAS,EAAxB,EAA2B;AACrCG,IAAAA,MAAM,EAAE,MAD6B;AAErCL,IAAAA,OAAO,EAAEJ,MAF4B;AAGrCO,IAAAA,IAAI,EAAEG,IAAI,CAACC,SAAL,CAAeJ,IAAf;AAH+B,GAA3B,CAAL,CAIJK,IAJI,CAIEC,IAAD,IAAUA,IAAI,CAACC,IAAL,EAJX,CAAP;AAKD;KAPqBT,O;AAQtB,OAAO,eAAeU,MAAf,CAAsBjB,QAAtB,EAAgCQ,QAAhC,EAA0CP,WAA1C,EAAuD;AAC5D,MAAIC,MAAM,GAAGH,SAAS,CAACC,QAAD,EAAWC,WAAX,CAAtB;AACAE,EAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYI,QAAZ;AACA,SAAOE,KAAK,CAAE,GAAEV,QAAS,GAAEQ,QAAS,EAAxB,EAA2B;AACrCG,IAAAA,MAAM,EAAE,KAD6B;AAErCL,IAAAA,OAAO,EAAEJ;AAF4B,GAA3B,CAAL,CAGJY,IAHI,CAGEC,IAAD,IAAUA,IAAI,CAACC,IAAL,EAHX,CAAP;AAID;MARqBC,M","sourcesContent":["import { getToken, getStravaToken } from \"../utils/Token\";\r\n//These functions are used to make the other code more readable and shorter.\r\nfunction setHeader(base_url, tokenNeeded) {\r\n  let header = {\r\n    \"Content-Type\": \"application/json\",\r\n  };\r\n  console.log(base_url.includes(\"localhost\"));\r\n  if (base_url.includes(\"localhost\") && tokenNeeded) {\r\n    header[\"Authorization\"] = `Bearer ${getToken()}`;\r\n  } else if (base_url.includes(\"www.strava.com\") && tokenNeeded) {\r\n    header[\"Authorization\"] = `Bearer ${getStravaToken()}`;\r\n  }\r\n  return headers;\r\n}\r\nexport async function APIPost(base_url, endpoint, body, tokenNeeded) {\r\n  let header = setHeader(base_url, tokenNeeded);\r\n  return fetch(`${base_url}${endpoint}`, {\r\n    method: \"POST\",\r\n    headers: header,\r\n    body: JSON.stringify(body),\r\n  }).then((data) => data.json());\r\n}\r\nexport async function APIGet(base_url, endpoint, tokenNeeded) {\r\n  let header = setHeader(base_url, tokenNeeded);\r\n  console.log(header);\r\n  console.log(endpoint);\r\n  return fetch(`${base_url}${endpoint}`, {\r\n    method: \"GET\",\r\n    headers: header,\r\n  }).then((data) => data.json());\r\n}\r\n"]},"metadata":{},"sourceType":"module"}