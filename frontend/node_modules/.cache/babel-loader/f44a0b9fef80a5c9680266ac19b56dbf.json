{"ast":null,"code":"import { getToken, getStravaToken } from \"../utils/Token\"; //These functions are used to make the other code more readable and shorter.\n\nfunction setHeader() {\n  let header = {\n    \"Content-Type\": \"application/json\"\n  };\n\n  if (base_url.includes(\"localhost\") && tokenNeeded) {\n    header[\"Authorization\"] = `Bearer ${getToken()}`;\n  } else if (base_url.includes(\"www.strava.com\") && tokenNeeded) {\n    header[\"Authorization\"] = `Bearer ${getStravaToken()}`;\n  }\n}\n\nexport async function APIPost(base_url, endpoint, body, tokenNeeded) {\n  let header = {\n    \"Content-Type\": \"application/json\"\n  };\n\n  if (base_url.includes(\"localhost\") && tokenNeeded) {\n    header[\"Authorization\"] = `Bearer ${getToken()}`;\n  } else if (base_url.includes(\"www.strava.com\") && tokenNeeded) {\n    header[\"Authorization\"] = `Bearer ${getStravaToken()}`;\n  }\n\n  return fetch(`${base_url}${endpoint}`, {\n    method: \"POST\",\n    headers: header,\n    body: JSON.stringify(body)\n  }).then(data => data.json());\n}\n_c = APIPost;\nexport async function APIGet(base_url, endpoint, tokenNeeded) {\n  let header = {};\n\n  if (base_url == \"local\" && tokenNeeded) {\n    header[\"Authorization\"] = `Bearer ${getToken()}`;\n  } else if (base_url == \"strava\" && tokenNeeded) {\n    header[\"Authorization\"] = `Bearer ${getStravaToken()}`;\n  }\n\n  console.log(endpoint);\n  return fetch(`${base_url}${endpoint}`, {\n    method: \"GET\",\n    headers: header\n  }).then(data => data.json());\n}\n_c2 = APIGet;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"APIPost\");\n$RefreshReg$(_c2, \"APIGet\");","map":{"version":3,"sources":["D:/SchoolWork/Computer Science/Year 2/NEA/NEA/frontend/src/External/ApiHelper.js"],"names":["getToken","getStravaToken","setHeader","header","base_url","includes","tokenNeeded","APIPost","endpoint","body","fetch","method","headers","JSON","stringify","then","data","json","APIGet","console","log"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,cAAnB,QAAyC,gBAAzC,C,CACA;;AACA,SAASC,SAAT,GAAqB;AACnB,MAAIC,MAAM,GAAG;AACX,oBAAgB;AADL,GAAb;;AAGA,MAAIC,QAAQ,CAACC,QAAT,CAAkB,WAAlB,KAAkCC,WAAtC,EAAmD;AACjDH,IAAAA,MAAM,CAAC,eAAD,CAAN,GAA2B,UAASH,QAAQ,EAAG,EAA/C;AACD,GAFD,MAEO,IAAII,QAAQ,CAACC,QAAT,CAAkB,gBAAlB,KAAuCC,WAA3C,EAAwD;AAC7DH,IAAAA,MAAM,CAAC,eAAD,CAAN,GAA2B,UAASF,cAAc,EAAG,EAArD;AACD;AACF;;AACD,OAAO,eAAeM,OAAf,CAAuBH,QAAvB,EAAiCI,QAAjC,EAA2CC,IAA3C,EAAiDH,WAAjD,EAA8D;AACnE,MAAIH,MAAM,GAAG;AACX,oBAAgB;AADL,GAAb;;AAGA,MAAIC,QAAQ,CAACC,QAAT,CAAkB,WAAlB,KAAkCC,WAAtC,EAAmD;AACjDH,IAAAA,MAAM,CAAC,eAAD,CAAN,GAA2B,UAASH,QAAQ,EAAG,EAA/C;AACD,GAFD,MAEO,IAAII,QAAQ,CAACC,QAAT,CAAkB,gBAAlB,KAAuCC,WAA3C,EAAwD;AAC7DH,IAAAA,MAAM,CAAC,eAAD,CAAN,GAA2B,UAASF,cAAc,EAAG,EAArD;AACD;;AACD,SAAOS,KAAK,CAAE,GAAEN,QAAS,GAAEI,QAAS,EAAxB,EAA2B;AACrCG,IAAAA,MAAM,EAAE,MAD6B;AAErCC,IAAAA,OAAO,EAAET,MAF4B;AAGrCM,IAAAA,IAAI,EAAEI,IAAI,CAACC,SAAL,CAAeL,IAAf;AAH+B,GAA3B,CAAL,CAIJM,IAJI,CAIEC,IAAD,IAAUA,IAAI,CAACC,IAAL,EAJX,CAAP;AAKD;KAdqBV,O;AAetB,OAAO,eAAeW,MAAf,CAAsBd,QAAtB,EAAgCI,QAAhC,EAA0CF,WAA1C,EAAuD;AAC5D,MAAIH,MAAM,GAAG,EAAb;;AACA,MAAIC,QAAQ,IAAI,OAAZ,IAAuBE,WAA3B,EAAwC;AACtCH,IAAAA,MAAM,CAAC,eAAD,CAAN,GAA2B,UAASH,QAAQ,EAAG,EAA/C;AACD,GAFD,MAEO,IAAII,QAAQ,IAAI,QAAZ,IAAwBE,WAA5B,EAAyC;AAC9CH,IAAAA,MAAM,CAAC,eAAD,CAAN,GAA2B,UAASF,cAAc,EAAG,EAArD;AACD;;AAEDkB,EAAAA,OAAO,CAACC,GAAR,CAAYZ,QAAZ;AACA,SAAOE,KAAK,CAAE,GAAEN,QAAS,GAAEI,QAAS,EAAxB,EAA2B;AACrCG,IAAAA,MAAM,EAAE,KAD6B;AAErCC,IAAAA,OAAO,EAAET;AAF4B,GAA3B,CAAL,CAGJY,IAHI,CAGEC,IAAD,IAAUA,IAAI,CAACC,IAAL,EAHX,CAAP;AAID;MAbqBC,M","sourcesContent":["import { getToken, getStravaToken } from \"../utils/Token\";\r\n//These functions are used to make the other code more readable and shorter.\r\nfunction setHeader() {\r\n  let header = {\r\n    \"Content-Type\": \"application/json\",\r\n  };\r\n  if (base_url.includes(\"localhost\") && tokenNeeded) {\r\n    header[\"Authorization\"] = `Bearer ${getToken()}`;\r\n  } else if (base_url.includes(\"www.strava.com\") && tokenNeeded) {\r\n    header[\"Authorization\"] = `Bearer ${getStravaToken()}`;\r\n  }\r\n}\r\nexport async function APIPost(base_url, endpoint, body, tokenNeeded) {\r\n  let header = {\r\n    \"Content-Type\": \"application/json\",\r\n  };\r\n  if (base_url.includes(\"localhost\") && tokenNeeded) {\r\n    header[\"Authorization\"] = `Bearer ${getToken()}`;\r\n  } else if (base_url.includes(\"www.strava.com\") && tokenNeeded) {\r\n    header[\"Authorization\"] = `Bearer ${getStravaToken()}`;\r\n  }\r\n  return fetch(`${base_url}${endpoint}`, {\r\n    method: \"POST\",\r\n    headers: header,\r\n    body: JSON.stringify(body),\r\n  }).then((data) => data.json());\r\n}\r\nexport async function APIGet(base_url, endpoint, tokenNeeded) {\r\n  let header = {};\r\n  if (base_url == \"local\" && tokenNeeded) {\r\n    header[\"Authorization\"] = `Bearer ${getToken()}`;\r\n  } else if (base_url == \"strava\" && tokenNeeded) {\r\n    header[\"Authorization\"] = `Bearer ${getStravaToken()}`;\r\n  }\r\n\r\n  console.log(endpoint);\r\n  return fetch(`${base_url}${endpoint}`, {\r\n    method: \"GET\",\r\n    headers: header,\r\n  }).then((data) => data.json());\r\n}\r\n"]},"metadata":{},"sourceType":"module"}