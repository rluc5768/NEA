{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rober\\\\Documents\\\\Schoolwork\\\\Computer Science\\\\NEA\\\\FinalNEA\\\\frontend\\\\src\\\\Pages\\\\PrivateOutlet.js\",\n    _s = $RefreshSig$();\n\nimport { Navigate, Outlet } from \"react-router-dom\";\nimport { useState, useEffect } from \"react\";\nimport Authentication from \"../Services/Authentication\";\nimport React from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction PrivateOutlet() {\n  _s();\n\n  const [State, setState] = useState('loading');\n  useEffect(() => {\n    (async function () {\n      try {\n        const auth = await Authentication.User();\n        setState(auth ? 'valid' : 'invalid');\n      } catch {\n        setState('invalid');\n      }\n    })();\n  }, []);\n  /*\r\n  Authentication.User().then((result)=>{\r\n      setLoading('loaded')\r\n      setAuth(result);\r\n  });\r\n  console.log(\"Auth: \");\r\n  */\n\n  if (State === 'loading') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"loading\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 15\n    }, this);\n  }\n\n  return State === 'valid' ? /*#__PURE__*/_jsxDEV(Outlet, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 29\n  }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n    to: \"/login\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 41\n  }, this);\n}\n\n_s(PrivateOutlet, \"D6+WCagoMbzGanxtMIuwN1gyOtI=\");\n\n_c = PrivateOutlet;\nexport default PrivateOutlet;\n\nvar _c;\n\n$RefreshReg$(_c, \"PrivateOutlet\");","map":{"version":3,"sources":["C:/Users/rober/Documents/Schoolwork/Computer Science/NEA/FinalNEA/frontend/src/Pages/PrivateOutlet.js"],"names":["Navigate","Outlet","useState","useEffect","Authentication","React","PrivateOutlet","State","setState","auth","User"],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,MAAnB,QAAiC,kBAAjC;AACA,SAAQC,QAAR,EAAkBC,SAAlB,QAAkC,OAAlC;AACA,OAAOC,cAAP,MAA2B,4BAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AACA,SAASC,aAAT,GAAwB;AAAA;;AACpB,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBN,QAAQ,CAAC,SAAD,CAAlC;AACAC,EAAAA,SAAS,CAAC,MAAM;AACZ,KAAC,kBAAiB;AACd,UAAI;AACA,cAAMM,IAAI,GAAG,MAAML,cAAc,CAACM,IAAf,EAAnB;AACAF,QAAAA,QAAQ,CAACC,IAAI,GAAG,OAAH,GAAa,SAAlB,CAAR;AACH,OAHD,CAIA,MAAK;AACDD,QAAAA,QAAQ,CAAC,SAAD,CAAR;AACH;AACJ,KARD;AASH,GAVQ,EAUP,EAVO,CAAT;AAYA;AACJ;AACA;AACA;AACA;AACA;AACA;;AACG,MAAGD,KAAK,KAAK,SAAb,EAAuB;AACnB,wBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAP;AACH;;AACA,SAEIA,KAAK,KAAK,OAAV,gBAAoB,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,UAApB,gBAAgC,QAAC,QAAD;AAAU,IAAA,EAAE,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,UAFpC;AAIH;;GA5BQD,a;;KAAAA,a;AA6BT,eAAeA,aAAf","sourcesContent":["import { Navigate, Outlet } from \"react-router-dom\";\r\nimport {useState, useEffect} from \"react\";\r\nimport Authentication from \"../Services/Authentication\";\r\nimport React from \"react\";\r\nfunction PrivateOutlet(){\r\n    const [State, setState] = useState('loading');\r\n    useEffect(() => {\r\n        (async function() {\r\n            try {\r\n                const auth = await Authentication.User();\r\n                setState(auth ? 'valid' : 'invalid');\r\n            }\r\n            catch{\r\n                setState('invalid');\r\n            }\r\n        })();\r\n    },[]);\r\n    \r\n    /*\r\n    Authentication.User().then((result)=>{\r\n        setLoading('loaded')\r\n        setAuth(result);\r\n    });\r\n    console.log(\"Auth: \");\r\n    */\r\n   if(State === 'loading'){\r\n       return <div>loading</div>;\r\n   }\r\n    return(\r\n        \r\n        State === 'valid' ? <Outlet/> : <Navigate to=\"/login\"/>\r\n    );\r\n}\r\nexport default PrivateOutlet;"]},"metadata":{},"sourceType":"module"}