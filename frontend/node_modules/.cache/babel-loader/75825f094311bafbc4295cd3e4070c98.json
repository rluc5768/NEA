{"ast":null,"code":"import { getToken, getStravaToken } from \"../utils/Token\"; //These functions are used to make the other code more readable and shorter.\n\nexport async function APIPost(base_url, endpoint, body, tokenNeeded) {\n  let header = {\n    \"Content-Type\": \"application/json\"\n  };\n\n  if (base_url == \"local\" && tokenNeeded) {\n    header[\"Authorization\"] = `Bearer ${getToken()}`;\n  } else if (base_url == \"strava\" && tokenNeeded) {\n    header[\"Authorization\"] = `Bearer ${getStravaToken()}`;\n  }\n\n  return fetch(`${base_url == \"local\" ? \"http://localhost:8000/api/v1/\" : \"https://www.strava.com/\"}${endpoint}`, {\n    method: \"POST\",\n    headers: header,\n    body: JSON.stringify(body)\n  }).then(data => data.json());\n}\n_c = APIPost;\nexport async function APIGet(base_url, endpoint, tokenNeeded) {\n  let header = {};\n\n  if (base_url == \"local\" && tokenNeeded) {\n    header[\"Authorization\"] = `Bearer ${getToken()}`;\n  } else if (base_url == \"strava\" && tokenNeeded) {\n    header[\"Authorization\"] = `Bearer ${getStravaToken()}`;\n  }\n\n  console.log(`${base_url == \"local\" ? \"http://localhost:8000/api/v1/\" : \"https://www.strava.com/\"}${endpoint}`);\n  return fetch(`${base_url == \"local\" ? \"http://localhost:8000/api/v1/\" : \"https://www.strava.com/\"}${endpoint}`, {\n    method: \"GET\",\n    headers: header\n  }).then(data => data.json());\n}\n_c2 = APIGet;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"APIPost\");\n$RefreshReg$(_c2, \"APIGet\");","map":{"version":3,"sources":["D:/SchoolWork/Computer Science/Year 2/NEA/NEA/frontend/src/External/ApiHelper.js"],"names":["getToken","getStravaToken","APIPost","base_url","endpoint","body","tokenNeeded","header","fetch","method","headers","JSON","stringify","then","data","json","APIGet","console","log"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,cAAnB,QAAyC,gBAAzC,C,CACA;;AAEA,OAAO,eAAeC,OAAf,CAAuBC,QAAvB,EAAiCC,QAAjC,EAA2CC,IAA3C,EAAiDC,WAAjD,EAA8D;AACnE,MAAIC,MAAM,GAAG;AACX,oBAAgB;AADL,GAAb;;AAGA,MAAIJ,QAAQ,IAAI,OAAZ,IAAuBG,WAA3B,EAAwC;AACtCC,IAAAA,MAAM,CAAC,eAAD,CAAN,GAA2B,UAASP,QAAQ,EAAG,EAA/C;AACD,GAFD,MAEO,IAAIG,QAAQ,IAAI,QAAZ,IAAwBG,WAA5B,EAAyC;AAC9CC,IAAAA,MAAM,CAAC,eAAD,CAAN,GAA2B,UAASN,cAAc,EAAG,EAArD;AACD;;AACD,SAAOO,KAAK,CACT,GACCL,QAAQ,IAAI,OAAZ,GACI,+BADJ,GAEI,yBACL,GAAEC,QAAS,EALF,EAMV;AACEK,IAAAA,MAAM,EAAE,MADV;AAEEC,IAAAA,OAAO,EAAEH,MAFX;AAGEF,IAAAA,IAAI,EAAEM,IAAI,CAACC,SAAL,CAAeP,IAAf;AAHR,GANU,CAAL,CAWLQ,IAXK,CAWCC,IAAD,IAAUA,IAAI,CAACC,IAAL,EAXV,CAAP;AAYD;KArBqBb,O;AAsBtB,OAAO,eAAec,MAAf,CAAsBb,QAAtB,EAAgCC,QAAhC,EAA0CE,WAA1C,EAAuD;AAC5D,MAAIC,MAAM,GAAG,EAAb;;AACA,MAAIJ,QAAQ,IAAI,OAAZ,IAAuBG,WAA3B,EAAwC;AACtCC,IAAAA,MAAM,CAAC,eAAD,CAAN,GAA2B,UAASP,QAAQ,EAAG,EAA/C;AACD,GAFD,MAEO,IAAIG,QAAQ,IAAI,QAAZ,IAAwBG,WAA5B,EAAyC;AAC9CC,IAAAA,MAAM,CAAC,eAAD,CAAN,GAA2B,UAASN,cAAc,EAAG,EAArD;AACD;;AACDgB,EAAAA,OAAO,CAACC,GAAR,CACG,GACCf,QAAQ,IAAI,OAAZ,GACI,+BADJ,GAEI,yBACL,GAAEC,QAAS,EALd;AAOA,SAAOI,KAAK,CACT,GACCL,QAAQ,IAAI,OAAZ,GACI,+BADJ,GAEI,yBACL,GAAEC,QAAS,EALF,EAMV;AACEK,IAAAA,MAAM,EAAE,KADV;AAEEC,IAAAA,OAAO,EAAEH;AAFX,GANU,CAAL,CAULM,IAVK,CAUCC,IAAD,IAAUA,IAAI,CAACC,IAAL,EAVV,CAAP;AAWD;MAzBqBC,M","sourcesContent":["import { getToken, getStravaToken } from \"../utils/Token\";\r\n//These functions are used to make the other code more readable and shorter.\r\n\r\nexport async function APIPost(base_url, endpoint, body, tokenNeeded) {\r\n  let header = {\r\n    \"Content-Type\": \"application/json\",\r\n  };\r\n  if (base_url == \"local\" && tokenNeeded) {\r\n    header[\"Authorization\"] = `Bearer ${getToken()}`;\r\n  } else if (base_url == \"strava\" && tokenNeeded) {\r\n    header[\"Authorization\"] = `Bearer ${getStravaToken()}`;\r\n  }\r\n  return fetch(\r\n    `${\r\n      base_url == \"local\"\r\n        ? \"http://localhost:8000/api/v1/\"\r\n        : \"https://www.strava.com/\"\r\n    }${endpoint}`,\r\n    {\r\n      method: \"POST\",\r\n      headers: header,\r\n      body: JSON.stringify(body),\r\n    }\r\n  ).then((data) => data.json());\r\n}\r\nexport async function APIGet(base_url, endpoint, tokenNeeded) {\r\n  let header = {};\r\n  if (base_url == \"local\" && tokenNeeded) {\r\n    header[\"Authorization\"] = `Bearer ${getToken()}`;\r\n  } else if (base_url == \"strava\" && tokenNeeded) {\r\n    header[\"Authorization\"] = `Bearer ${getStravaToken()}`;\r\n  }\r\n  console.log(\r\n    `${\r\n      base_url == \"local\"\r\n        ? \"http://localhost:8000/api/v1/\"\r\n        : \"https://www.strava.com/\"\r\n    }${endpoint}`\r\n  );\r\n  return fetch(\r\n    `${\r\n      base_url == \"local\"\r\n        ? \"http://localhost:8000/api/v1/\"\r\n        : \"https://www.strava.com/\"\r\n    }${endpoint}`,\r\n    {\r\n      method: \"GET\",\r\n      headers: header,\r\n    }\r\n  ).then((data) => data.json());\r\n}\r\n"]},"metadata":{},"sourceType":"module"}